<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Meldingsutveksling :: Fellesøsninger for meldingsutveksling i Norge (test-wiki april 2023)</title>
    <link rel="canonical" href="https://solutions-no.github.io/messaging/main/messaging-books/Meldingsutveksling.html">
    <meta name="generator" content="Antora 3.1.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://solutions-no.github.io">Fellesøsninger for meldingsutveksling i Norge (test-wiki april 2023)</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        </div>
		<a id="twitter-link" class="navbar-item" href="https://twitter.com/janakaSteph" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="messaging" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">MU</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../messaging-introduction/introduction.html">Introduksjon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text">Arkitektur</span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Løsninger</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Altinn Formidling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../solution-altinn-formidling/Altinn%20Formidling.var.2.html">Altinn Formidling 2.0 (nåsituasjon april 2023)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Altinn Formidling 3.0 løsningsalternativer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <span class="nav-text">Foreløpig løsningsforslag, mars 2023 (?)</span>
  </li>
  <li class="nav-item" data-depth="4">
    <span class="nav-text">Andre alternativer</span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Altinn Corresponence</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <span class="nav-text">Andre løsninger</span>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">MU</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">MU</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">MU</a></li>
    <li><a href="Meldingsutveksling.html">Meldingsutveksling</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://gitlab.com/solutions-no/wiki/components/messaging/edit/main/docs/modules/messaging-books/pages/Meldingsutveksling.adoc">Rediger kilde</a></div>
  </div>
<article class="doc"><a name="section-top"></a>
<h1 class="page">Meldingsutveksling</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_introduksjon">Introduksjon</a></li>
<li><a href="#_altinn_formidling">Altinn Formidling</a>
<ul class="sectlevel2">
<li><a href="#_altinn_formidling_2_0_roller">Altinn Formidling 2.0 - Roller</a></li>
<li><a href="#_altinn_formidling_2_0_kapabiliteter">Altinn formidling 2.0 - kapabiliteter</a></li>
<li><a href="#_altinn_formidling_2_0_forretningstjenester_eriks_forsøk">Altinn formidling 2.0 - forretningstjenester (Eriks forsøk)</a></li>
<li><a href="#_altinn_formidling_applikasjonstjenester_flow">Altinn formidling - applikasjonstjenester - flow</a></li>
<li><a href="#_altinn_formidling_2_0_applikasjonstjenester_service_usage">Altinn formidling 2.0 - applikasjonstjenester - service usage</a></li>
<li><a href="#_altinn_formidling_2_0_applikasjonstjenester_og_api_er">Altinn formidling 2.0 - applikasjonstjenester og API-er</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><span class="image"><img src="_images/messaging-front-cover.png" alt="messaging front cover"></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre>Sun Apr 23 2023 23:22:52 GMT+0200 (CEST)
... 	...</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduksjon"><a class="anchor" href="#_introduksjon"></a>Introduksjon</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Intro&#8230;&#8203;</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_altinn_formidling"><a class="anchor" href="#_altinn_formidling"></a>Altinn Formidling</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Om Altinn formidling &#8230;&#8203;</p>
</div>
<div class="sect2">
<h3 id="_altinn_formidling_2_0_roller"><a class="anchor" href="#_altinn_formidling_2_0_roller"></a>Altinn Formidling 2.0 - Roller</h3>
<div class="imageblock">
<div class="content">
<img src="../solution-altinn-formidling/_images/Altinn%20Formidling%202.0%20-%20Roller.png" alt="Altinn Formidling 2.0 - Roller image">
</div>
<div class="title">Figure 1. Altinn Formidling 2.0 - Roller</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Elementer i view for Altinn Formidling 2.0 - Roller</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avsender</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som sender en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottaker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som mottar en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjenesteeier (Altinn)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sluttbruker (Altinn)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virksomhet</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Person</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataformidler</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataformidler er et mellomledd som formidler data mellom produsent og konsument. Eksempler. Tilbyder av meldingsinfrastruktur, aksesspunkt, mellomliggende lagringsløsninger, sammenstilling av data fra flere datakilder.</p>
</div>
<div class="paragraph">
<p>Merk: Det er per 2019 uklart om rollen Dataformidler behøves, eller kan dekkes av rollen Daytatilbyder. Dette avhanger av pågående arbeid med juridiske spørsmåk (hvem eier data og hvem inngår avtaler med hvem).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Personbruker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataeier</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maskinbruker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bruker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottakeradministrasjon (eks. Politiet)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Vi bruker mottakeradministrasjon til å sende ut dokumenter digitalt til foretakene, som tidligere ble sendt i papir eller på minnepinne etc.</p>
</div>
<div class="paragraph">
<p>Jeg klarer ikke helt rydde i om dere alltid sender elektronisk, så sant det ikke er for store dokumenter eller gradert informasjon, eller om dere også har manuelle prosesser for å ivareta ikke digitale advokatpraksiser?</p>
</div>
<div class="paragraph">
<p>Så langt det lar seg gjøre, så sendes dokumenter ut digitalt. Er det for mange dokumenter slik at det overskrider størrelsesbegrensningene i Altinn, så deler brukerne opp i flere forsendelser. Et gjentakende ønske fra brukerne våre er at denne grensen økes </p>
</div>
<div class="paragraph">
<p>For de som ikke kan motta digitale forsendelser, så sendes dokumenter ut med gamle rutiner, dvs kopisak, minnepenn etc.</p>
</div>
<div class="paragraph">
<p>Er mottakeradministrasjon etablert fordi det ikke finnes noe felles register for digitale mottakere?</p>
</div>
<div class="paragraph">
<p>Mottakeradministrasjon hos oss ligger under en tjeneste som heter Straffesaksforsendelse og ble etablert for å kunne sende ut digitale dokumenter. Det er den eneste oversikten brukerne våre har over foretak det kan sendes digitale forsendelser til.</p>
</div>
<div class="paragraph">
<p>Foretaket legges inn ved hjelp av org.nr, og under foretaket kan brukerne legge inn personer som adressat, siden man ofte vet hvem man skal sende til, men ikke nødvendigvis hvilket advokatkontor.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_altinn_formidling_2_0_kapabiliteter"><a class="anchor" href="#_altinn_formidling_2_0_kapabiliteter"></a>Altinn formidling 2.0 - kapabiliteter</h3>
<div class="imageblock">
<div class="content">
<img src="../solution-altinn-formidling/_images/Altinn%20formidling%202.0%20-%20kapabiliteter.png" alt="Altinn formidling 2.0 - kapabiliteter image">
</div>
<div class="title">Figure 2. Altinn formidling 2.0 - kapabiliteter</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Elementer i view for Altinn formidling 2.0 - kapabiliteter</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn formidling 2.0 kapabiliteter</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Brukerstøtte</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding innbygger</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fakturering/Betaling</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Statistikk</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Generere statistikk
Vise statisikk
Grunnlag for fakturering</p>
</div>
<div class="paragraph">
<p>Se statisikk: <a href="https://eur03.safelinks.protection.outlook.com/ap/x-59584e83/?url=https%3A%2F%2Fdigdir-my.sharepoint.com%2F%3Ax%3A%2Fg%2Fpersonal%2Fsiv_therese_aglen_digdir_no%2FEZS8jK_noPBFi5ieTtcJAqEBv3HlH26coDu7e_T9z0Gihw&amp;data=05%7C01%7C%7C9b75ab57717941db4ff408db40cbf007%7C008e560f08af4ceca056b35447503991%7C1%7C0%7C638175016865824684%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=zknTA6ZcZnLvAade1SCUw5e3nrOMchgmSFQYB2gylg0%3D&amp;reserved=0" class="bare">https://eur03.safelinks.protection.outlook.com/ap/x-59584e83/?url=https%3A%2F%2Fdigdir-my.sharepoint.com%2F%3Ax%3A%2Fg%2Fpersonal%2Fsiv_therese_aglen_digdir_no%2FEZS8jK_noPBFi5ieTtcJAqEBv3HlH26coDu7e_T9z0Gihw&amp;data=05%7C01%7C%7C9b75ab57717941db4ff408db40cbf007%7C008e560f08af4ceca056b35447503991%7C1%7C0%7C638175016865824684%7CUnknown%7CTWFpbGZsb3d8eyJWIjoiMC4wLjAwMDAiLCJQIjoiV2luMzIiLCJBTiI6Ik1haWwiLCJXVCI6Mn0%3D%7C3000%7C%7C%7C&amp;sdata=zknTA6ZcZnLvAade1SCUw5e3nrOMchgmSFQYB2gylg0%3D&amp;reserved=0</a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding virksomhet</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Støtte for meldingsmønster en-til-mange</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Støtte for meldingsmønster en-til-en</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formidle meldinger (og filer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spesifisere meldingsformat og metadata (xml manifest)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgangsstyring (inkl. delegering)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Eksakt hva er det Formidlingstjenesten styrer tilgang til (as-is)?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formidle mottakskvitteringer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hovedkvittering vs. underkvitteringer (per mottaker)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lagring og arkivering av  meldingsinnhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Foreløpig notat: Default 10 år, men ? ? ? ?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logging</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Erik: Mer spesifikt - hva logges??</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sletting av utdaterte filer (såkalt sanering)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finansiering</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Brukerbetaling, sentralfinansiering</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avsender</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som sender en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottaker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som mottar en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dataformidler</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Dataformidler er et mellomledd som formidler data mellom produsent og konsument. Eksempler. Tilbyder av meldingsinfrastruktur, aksesspunkt, mellomliggende lagringsløsninger, sammenstilling av data fra flere datakilder.</p>
</div>
<div class="paragraph">
<p>Merk: Det er per 2019 uklart om rollen Dataformidler behøves, eller kan dekkes av rollen Daytatilbyder. Dette avhanger av pågående arbeid med juridiske spørsmåk (hvem eier data og hvem inngår avtaler med hvem).</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avsenders kapabiliteter (behov)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sende filer til en eller flere spesifiserte mottakere</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Som avsender har jeg behov for å sende filer&#8230;&#8203;. ELLER Som datatilbyder har jeg behov for å sende filer &#8230;&#8203;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding til Altinn Formidling som avsender</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Som avsender &#8230;&#8203;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etablere avtaler med mottakere (inkl. meldingsstruktur/ semantikk)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Som avsender &#8230;&#8203;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dele filer med en eller flere spesifiserte mottakere</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Som datatilbyder har jeg behov for å deler filer med forhåndsdefinerte mottakere&#8230;&#8203; ELLER mer spesifikt: dele filer med samarbeidspartnere i en saksbehandlingprosess</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilbakekall forsendelse (forslag 3.0)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standardisering av  meldingsformater</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottakers kapabiliteter (behov)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta filer fra kjente avsendere (asynkront via dataformidler)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding til Altinn Formidling som mottaker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etablere avtaler med avsendere</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Erik-spørsmål: Gjøres dette via en Altinn-løsning??</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Detektere at nye data er tilgjengelige</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enten via polling mot Altinn Formidling eller via varsling</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oppdatere egne datasett med nytt innhold (helt eller delvis)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>F.eks. oppdatering av saksmappe med komplett ny saksmappe eller med oppdatering av sist endrede dokument</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tipse endebrukere i egen organisasjon om nytt innhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datatilbyder</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Tilbyder av data til andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datakonsument</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som innhenter eller mottar data fra andre aktører.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tjenesteeier (Altinn)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Registrere tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hva menes med det her</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Post &amp; Altinn formidling - Erik lurer på om dette er relevant for Altinn Formidling?</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Altinn Formidling as-is per april 2023 formidler vel bare filer, uavhengig av formål?</p>
</div>
<div class="paragraph">
<p>En helt anne sak: Dette er relevant på mottakersiden&#8230;&#8203;</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formidle post</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ta imot post</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vise post</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sende data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å sende data til en mottaker.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motta tilsendte data</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evnen til å motta en en forsendelse fra en avsender.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Klargjøre for deling av data ved forsendelse</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Evne til å klargjøre for meldingsutveksling med eksterne parter.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Etablere avtaler med mottakere (copy)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virusscanning av filer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_altinn_formidling_2_0_forretningstjenester_eriks_forsøk"><a class="anchor" href="#_altinn_formidling_2_0_forretningstjenester_eriks_forsøk"></a>Altinn formidling 2.0 - forretningstjenester (Eriks forsøk)</h3>
<div class="imageblock">
<div class="content">
<img src="../solution-altinn-formidling/_images/Altinn%20formidling%202.0%20-%20forretningstjenester%20(Eriks%20forsøk).png" alt="Altinn formidling 2.0 - forretningstjenester (Eriks forsøk) image">
</div>
<div class="title">Figure 3. Altinn formidling 2.0 - forretningstjenester (Eriks forsøk)</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Elementer i view for Altinn formidling 2.0 - forretningstjenester (Eriks forsøk)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding innbygger</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding virksomhet</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Støtte for meldingsmønster en-til-mange</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Støtte for meldingsmønster en-til-en</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formidle meldinger (og filer)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generere statistikk</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vise statistikk</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spesifisere meldingsformat og metadata (xml manifest)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tilgangsstyring (inkl. delegering)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Eksakt hva er det Formidlingstjenesten styrer tilgang til (as-is)?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gi tilgang til tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Erik: Mer spesifikt? Mener vi tilgang til data? Eksakt hva er det Formidlingstjenesten styrer tilgang til (as-is)?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delegere tilgang til tjeneste</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Erik: Mer spesifikt? Mener vi tilgang til data? Eksakt hva er det Formidlingstjenesten styrer tilgang til (as-is)?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formidle mottakskvitteringer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hovedkvittering vs. underkvitteringer (per mottaker)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lagring og arkivering av  meldingsinnhold</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Foreløpig notat: Default 10 år, men ? ? ? ?</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logging</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Erik: Mer spesifikt - hva logges??</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sletting av utdaterte filer (såkalt sanering)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_altinn_formidling_applikasjonstjenester_flow"><a class="anchor" href="#_altinn_formidling_applikasjonstjenester_flow"></a>Altinn formidling - applikasjonstjenester - flow</h3>
<div class="imageblock">
<div class="content">
<img src="../solution-altinn-formidling/_images/Altinn%20formidling%20-%20applikasjonstjenester%20-%20flow.png" alt="Altinn formidling - applikasjonstjenester - flow image">
</div>
<div class="title">Figure 4. Altinn formidling - applikasjonstjenester - flow</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Elementer i view for Altinn formidling - applikasjonstjenester - flow</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avsender</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som sender en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottaker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som mottar en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn Formidling</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check  if available Files</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Lettvekt metode for mottakere som ofte må sjekke om det er nye filer tilgjengelig.
Sjekker kun i db, hopper over autorisasjons-steg. Returnerer True/false.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get Available Files</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Henter en "avgivers" (Erik: du mener mottakers?) tilgjengelige formidlingstjenester med metadata og referanse for nedlasting. Inkluderer autorisasjon og henter ut liste med metadata for tilgjengelige filer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download File</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer ned fil for formidlingstjeneste basert på referanse. Autoriserer, strømmer ned fil, endrer IKKE status.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confirm downloaded</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bekrefter at mottaker har lastet ned filen, hvorpå filen kan saneres dersom den møter kriteriene.
Endrer FileRecipientStatus til "Downloaded".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get receipt confirmation</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent ut kvittering knyttet til filen basert på FileReference.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update receipt confirmation</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mottaker: Oppdater tekst i mottakers kvittering, som er synlig også for avsender.
Avsender: Kan (teoretisk) også brukes til å oppdatere kvitteringer for avsender, men kun avsender kan se sin oppdaterte kvittering.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notify receipient</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Brukes av Politiet til å sende en melding via Altinn Corresponance) til mottaker med nedlastningslenke.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get File Metadata</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent fil metadata.​</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upload file</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer opp fil for en gitt FileReference basert på opprettelse av formidlingstjeneste.
Autoriserer, strømmer opp fil til sharet, oppdaterer manifest, utfører viruskontroll og setter status til "Uploaded" for både FileStatus og RecipientStatus.
Returnerer Receipt.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiate message transfer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbereder opprettelse av en formidlingstjeneste ved å sende inn nødvendig metadata, hvorpå fil kan strømmes opp .Returnerer en FileReference, en GUID som brukes videre som identifikator.
Autoriserer og oppretter metadata i databasen, FileStatus=Initialized</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_altinn_formidling_2_0_applikasjonstjenester_service_usage"><a class="anchor" href="#_altinn_formidling_2_0_applikasjonstjenester_service_usage"></a>Altinn formidling 2.0 - applikasjonstjenester - service usage</h3>
<div class="imageblock">
<div class="content">
<img src="../solution-altinn-formidling/_images/Altinn%20formidling%202.0%20-%20applikasjonstjenester%20-%20service%20usage.png" alt="Altinn formidling 2.0 - applikasjonstjenester - service usage image">
</div>
<div class="title">Figure 5. Altinn formidling 2.0 - applikasjonstjenester - service usage</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Elementer i view for Altinn formidling 2.0 - applikasjonstjenester - service usage</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avsender</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som sender en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottaker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som mottar en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn Formidling</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiate message transfer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbereder opprettelse av en formidlingstjeneste ved å sende inn nødvendig metadata, hvorpå fil kan strømmes opp .Returnerer en FileReference, en GUID som brukes videre som identifikator.
Autoriserer og oppretter metadata i databasen, FileStatus=Initialized</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upload file</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer opp fil for en gitt FileReference basert på opprettelse av formidlingstjeneste.
Autoriserer, strømmer opp fil til sharet, oppdaterer manifest, utfører viruskontroll og setter status til "Uploaded" for både FileStatus og RecipientStatus.
Returnerer Receipt.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check  if available Files</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Lettvekt metode for mottakere som ofte må sjekke om det er nye filer tilgjengelig.
Sjekker kun i db, hopper over autorisasjons-steg. Returnerer True/false.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get Available Files</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Henter en "avgivers" (Erik: du mener mottakers?) tilgjengelige formidlingstjenester med metadata og referanse for nedlasting. Inkluderer autorisasjon og henter ut liste med metadata for tilgjengelige filer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download File</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer ned fil for formidlingstjeneste basert på referanse. Autoriserer, strømmer ned fil, endrer IKKE status.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confirm downloaded</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bekrefter at mottaker har lastet ned filen, hvorpå filen kan saneres dersom den møter kriteriene.
Endrer FileRecipientStatus til "Downloaded".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get receipt confirmation</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent ut kvittering knyttet til filen basert på FileReference.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update receipt confirmation</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mottaker: Oppdater tekst i mottakers kvittering, som er synlig også for avsender.
Avsender: Kan (teoretisk) også brukes til å oppdatere kvitteringer for avsender, men kun avsender kan se sin oppdaterte kvittering.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notify receipient</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Brukes av Politiet til å sende en melding via Altinn Corresponance) til mottaker med nedlastningslenke.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get File Metadata</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent fil metadata.​</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_altinn_formidling_2_0_applikasjonstjenester_og_api_er"><a class="anchor" href="#_altinn_formidling_2_0_applikasjonstjenester_og_api_er"></a>Altinn formidling 2.0 - applikasjonstjenester og API-er</h3>
<div class="imageblock">
<div class="content">
<img src="../solution-altinn-formidling/_images/Altinn%20formidling%202.0%20-%20applikasjonstjenester%20og%20API-er.png" alt="Altinn formidling 2.0 - applikasjonstjenester og API-er image">
</div>
<div class="title">Figure 6. Altinn formidling 2.0 - applikasjonstjenester og API-er</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Elementer i view for Altinn formidling 2.0 - applikasjonstjenester og API-er</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avsender</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som sender en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottaker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som mottar en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Personbruker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn Formidling</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check  if available Files</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Lettvekt metode for mottakere som ofte må sjekke om det er nye filer tilgjengelig.
Sjekker kun i db, hopper over autorisasjons-steg. Returnerer True/false.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notify receipient</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Brukes av Politiet til å sende en melding via Altinn Corresponance) til mottaker med nedlastningslenke.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update receipt confirmation</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mottaker: Oppdater tekst i mottakers kvittering, som er synlig også for avsender.
Avsender: Kan (teoretisk) også brukes til å oppdatere kvitteringer for avsender, men kun avsender kan se sin oppdaterte kvittering.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get receipt confirmation</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent ut kvittering knyttet til filen basert på FileReference.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download File</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer ned fil for formidlingstjeneste basert på referanse. Autoriserer, strømmer ned fil, endrer IKKE status.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiate message transfer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbereder opprettelse av en formidlingstjeneste ved å sende inn nødvendig metadata, hvorpå fil kan strømmes opp .Returnerer en FileReference, en GUID som brukes videre som identifikator.
Autoriserer og oppretter metadata i databasen, FileStatus=Initialized</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upload file</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer opp fil for en gitt FileReference basert på opprettelse av formidlingstjeneste.
Autoriserer, strømmer opp fil til sharet, oppdaterer manifest, utfører viruskontroll og setter status til "Uploaded" for både FileStatus og RecipientStatus.
Returnerer Receipt.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get File Metadata</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent fil metadata.​</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get Available Files</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Henter en "avgivers" (Erik: du mener mottakers?) tilgjengelige formidlingstjenester med metadata og referanse for nedlasting. Inkluderer autorisasjon og henter ut liste med metadata for tilgjengelige filer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confirm downloaded</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bekrefter at mottaker har lastet ned filen, hvorpå filen kan saneres dersom den møter kriteriene.
Endrer FileRecipientStatus til "Downloaded".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn Formidling SOAP API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BrokerService/ConfirmDownloaded</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bekrefter at mottaker har lastet ned filen, hvorpå filen kan saneres dersom den møter kriteriene.
Endrer FileRecipientStatus til "Downloadaed".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BrokerServiceStreamed/DownloadFileStreamed</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer ned fil for formidlingstjeneste basert på referanse. Autoriserer, strømmer ned fil, endrer IKKE status.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BrokerService/CheckIfAvailableFiles</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Lettvekt metode for mottakere som ofte må sjekke om det er nye filer tilgjengelig.
Sjekker kun i db, hopper over autorisasjons-steg. Returnerer True/false.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BrokerService/GetAvailableFiles</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Henter en avgivers tilgjengelige formidlingstjenester med metadata og referanse for nedlasting.Inkluderer autorisasjon og henter ut liste med metadata for tilgjengelige filer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receipt/UpdateReceipt</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oppdater tekst i mottakers kvittering, som er synlig også for avsender.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receipt/GetReceiptV2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent ut kvittering knyttet til filen basert på FileReference.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn Formidling REST API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET <a href="https://www.altinn.no/api/my/brokerservice/files/{filereference}" class="bare">https://www.altinn.no/api/my/brokerservice/files/{filereference}</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>URL som kan benyttes av personbrukere som er logget inn I Altinn-portalen til å laste ned fil. - Brukes av Politiet, implementert i 15.2.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET <a href="https://www.altinn.no/api/brokerservice/inbox/hasavailablefiles?serviceCode=myservicecode&amp;serviceEditionCode=myserviceedition&amp;recipients=mottaker1,mottaker" class="bare">https://www.altinn.no/api/brokerservice/inbox/hasavailablefiles?serviceCode=myservicecode&amp;serviceEditionCode=myserviceedition&amp;recipients=mottaker1,mottaker</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Lettvekt metode for mottakere som ofte må sjekke om det er nye filer tilgjengelig.Tilsvarer SOAP CheckIfAvailableFiles.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET <a href="https://www.altinn.no/api/{who}/brokerservice/inbox/?fileStatus=Uploaded&amp;serviceCode=myservicecode&amp;serviceEditionCode=myserviceedition&amp;minSentDateTime=2021-01-01&amp;maxSentDateTime=2021-12-01" class="bare">https://www.altinn.no/api/{who}/brokerservice/inbox/?fileStatus=Uploaded&amp;serviceCode=myservicecode&amp;serviceEditionCode=myserviceedition&amp;minSentDateTime=2021-01-01&amp;maxSentDateTime=2021-12-01</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Henter en avgivers tilgjengelige filer med metadata og referanse for nedlasting.
Tilsvarer SOAP GetAvailableFiles.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET <a href="https://www.altinn.no/api/{who}/brokerservice/inbox/{FileReference}" class="bare">https://www.altinn.no/api/{who}/brokerservice/inbox/{FileReference}</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>GET for å hente metadata for en spesifikk fil til mottaker.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET <a href="https://www.altinn.no/api/{who}/brokerservice/inbox/{FileReference}/receipt" class="bare">https://www.altinn.no/api/{who}/brokerservice/inbox/{FileReference}/receipt</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>GET for uthenting av fil receipt. Henter ut mottakers receipt. Vil kun vise receipt som tilhører mottaker.Tilsvarer SOAP GetReceiptV2, men avgrenset til formålet.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST <a href="https://www.altinn.no/api/{who}/brokerservice/inbox/{FileReference}/confirmdownloaded" class="bare">https://www.altinn.no/api/{who}/brokerservice/inbox/{FileReference}/confirmdownloaded</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>POST for å manuelt bekrefte at en fil er lastet ned og mottatt.
Tilsvarer SOAP ConfirmDownloaded</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET <a href="https://www.altinn.no/api/{who}/brokerservice/inbox/{FileReference}/download" class="bare">https://www.altinn.no/api/{who}/brokerservice/inbox/{FileReference}/download</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>GET for å laste ned fil via binary stream.
Tilsvarer SOAP DownloadFileStreamed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn Formidling SOAP API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Correspondence/InsertCorrespondenceV2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Brukes av Politiet til å sende en melding til mottaker med nedlastningslenke.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BrokerService/InitiateBrokerService</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbereder opprettelse av en formidlingstjeneste ved å sende inn nødvendig metadata, hvorpå fil kan strømmes opp .Returnerer en FileReference, en GUID som brukes videre som identifikator.
Autoriserer og oppretter metadata i databasen, FileStatus=Initialized</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BrokerServiceStreamed/UploadFileStreamed</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer opp fil for en gitt FileReference basert på opprettelse av formidlingstjeneste.
Autoriserer, strømmer opp fil til sharet, oppdaterer manifest, utfører viruskontroll og setter status til "Uploaded" for både FileStatus og RecipientStatus.
Returnerer Receipt.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receipt/GetReceiptV2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent ut kvittering knyttet til filen basert på FileReference.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receipt/UpdateReceipt</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Oppdater tekst i mottakers kvittering, som er synlig også for avsender.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn Formidling REST API</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">POST <a href="https://www.altinn.no/api/{who}/brokerservice/outbox​" class="bare">https://www.altinn.no/api/{who}/brokerservice/outbox​</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Opprett BrokerService Fil med metadata og binary stream.​</p>
</div>
<div class="paragraph">
<p>Tilsvarer SOAP sin InitiateBrokerService og UploadFileStreamed.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET <a href="https://www.altinn.no/api/{who}/brokerservice/outbox/{FileReference}" class="bare">https://www.altinn.no/api/{who}/brokerservice/outbox/{FileReference}</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent fil metadata.​</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GET <a href="https://www.altinn.no/api/{who}/brokerservice/outbox/{FileReference}/receipt" class="bare">https://www.altinn.no/api/{who}/brokerservice/outbox/{FileReference}/receipt</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Uthenting av fil kvittering /  Receipt​</p>
</div>
<div class="paragraph">
<p>Tilsvarer SOAP GetReceiptV2, men avgrenset til formål.​​</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get file URL</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>URL som kan benyttes av personbrukere som er logget inn I Altinn-portalen til å laste ned fil. - Brukes av Politiet, implementert i 15.2.</p>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><span class="image"><img src="_images/messaging-back-cover.png" alt="messaging back cover"></span></p>
</div>
</div>
</div>
</div>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Innhold</h3>
  <div id="article-toc"></div>
</aside></main>
</div>
<footer class="footer">
  <p>Kontakt: nasjonalarkitektur@digdir.no, eventuelt erik.hagen@digdir.no, tlf. +47 90631013.</p>
  <p>Digitaliseringsirektoratet, 2020.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<script>
  tocbot.init( {
                  tocSelector: '#article-toc',
                  contentSelector: 'article',
                  headingSelector: 'h2, h3, h4, h5, h6',
                  collapseDepth: 6,
                  positionFixedSelector: '#article-toc',
                  scrollSmooth: false
                } );
  var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
  if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
    document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
  }
</script>  </body>
</html>
