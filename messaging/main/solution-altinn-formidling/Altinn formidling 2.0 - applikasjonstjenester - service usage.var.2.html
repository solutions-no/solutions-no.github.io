<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Altinn formidling 2.0 - applikasjonstjenester - service usage :: Fellesøsninger for meldingsutveksling i Norge (test-wiki april 2023)</title>
    <link rel="canonical" href="https://solutions-no.github.io/messaging/main/solution-altinn-formidling/Altinn%20formidling%202.0%20-%20applikasjonstjenester%20-%20service%20usage.var.2.html">
    <meta name="generator" content="Antora 3.1.0">
    <link rel="stylesheet" href="../../../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://solutions-no.github.io">Fellesøsninger for meldingsutveksling i Norge (test-wiki april 2023)</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        </div>
		<a id="twitter-link" class="navbar-item" href="https://twitter.com/janakaSteph" target="_blank">
          <i class="fab fa-twitter"></i>
        </a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="messaging" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">MU</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../messaging-introduction/Introduksjon.var.2.html">Introduksjon</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text">Arkitektur</span>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Løsninger</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Altinn Formidling</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="Altinn%20Formidling.var.2.html">Altinn Formidling 2.0 (nåsituasjon april 2023)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Altinn Formidling 3.0 løsningsalternativer</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <span class="nav-text">Foreløpig løsningsforslag, mars 2023 (?)</span>
  </li>
  <li class="nav-item" data-depth="4">
    <span class="nav-text">Andre alternativer</span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Altinn Corresponence</span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Andre løsninger</span>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">MU</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">MU</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main>
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">MU</a></li>
    <li><a href="Altinn%20formidling%202.0%20-%20applikasjonstjenester%20-%20service%20usage.var.2.html">Altinn formidling 2.0 - applikasjonstjenester - service usage</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://gitlab.com/solutions-no/wiki/components/messaging/edit/main/docs/modules/solution-altinn-formidling/pages/Altinn%20formidling%202.0%20-%20applikasjonstjenester%20-%20service%20usage.var.2.adoc">Rediger kilde</a></div>
  </div>
<article class="doc"><a name="section-top"></a>
<h1 class="page">Altinn formidling 2.0 - applikasjonstjenester - service usage</h1>
<div class="imageblock">
<div class="content">
<img src="_images/Altinn%20formidling%202.0%20-%20applikasjonstjenester%20-%20service%20usage.png" alt="Altinn formidling 2.0 - applikasjonstjenester - service usage image">
</div>
<div class="title">Figure 1. Altinn formidling 2.0 - applikasjonstjenester - service usage</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Elementer i view for Altinn formidling 2.0 - applikasjonstjenester - service usage</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Beskrivelse</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avsender</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som sender en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mottaker</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Den som mottar en elektronisk melding eller tilsvarende.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Altinn Formidling</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiate message transfer</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Forbereder opprettelse av en formidlingstjeneste ved å sende inn nødvendig metadata, hvorpå fil kan strømmes opp .Returnerer en FileReference, en GUID som brukes videre som identifikator.
Autoriserer og oppretter metadata i databasen, FileStatus=Initialized</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upload file</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer opp fil for en gitt FileReference basert på opprettelse av formidlingstjeneste.
Autoriserer, strømmer opp fil til sharet, oppdaterer manifest, utfører viruskontroll og setter status til "Uploaded" for både FileStatus og RecipientStatus.
Returnerer Receipt.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check  if available Files</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Lettvekt metode for mottakere som ofte må sjekke om det er nye filer tilgjengelig.
Sjekker kun i db, hopper over autorisasjons-steg. Returnerer True/false.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get Available Files</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Henter en "avgivers" (Erik: du mener mottakers?) tilgjengelige formidlingstjenester med metadata og referanse for nedlasting. Inkluderer autorisasjon og henter ut liste med metadata for tilgjengelige filer.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Download File</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Strømmer ned fil for formidlingstjeneste basert på referanse. Autoriserer, strømmer ned fil, endrer IKKE status.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Confirm downloaded</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Bekrefter at mottaker har lastet ned filen, hvorpå filen kan saneres dersom den møter kriteriene.
Endrer FileRecipientStatus til "Downloaded".</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get receipt confirmation</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent ut kvittering knyttet til filen basert på FileReference.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update receipt confirmation</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Mottaker: Oppdater tekst i mottakers kvittering, som er synlig også for avsender.
Avsender: Kan (teoretisk) også brukes til å oppdatere kvitteringer for avsender, men kun avsender kan se sin oppdaterte kvittering.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Notify receipient</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Brukes av Politiet til å sende en melding via Altinn Corresponance) til mottaker med nedlastningslenke.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get File Metadata</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Hent fil metadata.​</p>
</div></div></td>
</tr>
</tbody>
</table>
</article>
<aside class="article-aside hidden" role="navigation">
  <h3 class="toc-title">Innhold</h3>
  <div id="article-toc"></div>
</aside></main>
</div>
<footer class="footer">
  <p>Kontakt: nasjonalarkitektur@digdir.no, eventuelt erik.hagen@digdir.no, tlf. +47 90631013.</p>
  <p>Digitaliseringsirektoratet, 2020.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.1.1/tocbot.min.js"></script>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/highlight.js"></script>
<script>hljs.initHighlighting()</script>
<script>
  tocbot.init( {
                  tocSelector: '#article-toc',
                  contentSelector: 'article',
                  headingSelector: 'h2, h3, h4, h5, h6',
                  collapseDepth: 6,
                  positionFixedSelector: '#article-toc',
                  scrollSmooth: false
                } );
  var tocList = document.getElementById( 'article-toc' ).getElementsByClassName( 'toc-list' );
  if ( tocList && tocList.length > 0 && tocList[0].childNodes.length > 0 ) {
    document.getElementById( 'article-toc' ).parentNode.classList.remove( 'hidden' );
  }
</script>  </body>
</html>
